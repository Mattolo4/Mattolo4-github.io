<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <base href="../../../">

    <title>Fetch-Delivery Routine</title>
    <link rel="icon" type="image/x-icon" href="assets/img/portfolio/Icon/favicon.png">
    <meta content="Fetch-Delivery Routine" name="description">
    <meta content="Fetch-Delivery Routine" name="keywords">
    <meta content="Matteo Villani" name="Author">

    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
        rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="assets/vendor/aos/aos.css" rel="stylesheet">
    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
    <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
    <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

    <!-- Chart -->
    <script src="assets/js/chart.js"></script>

    <!-- LaTeX in HTML-->
    <!-- <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_CHTML"></script> -->

    <!-- Template Main CSS File -->
    <link href="assets/css/style.css" rel="stylesheet">

</head>

<body>
    <!-- Mobile nav toggle button -->
    <i class="bi bi-list mobile-nav-toggle d-xl-none"></i>
    <span id="top"></span>

    <!-- Header -->
    <header id="header">
        <div class="d-flex flex-column">

            <div class="profile">
                <!--for better resolution check the img size-->
                <img src="assets/img/profile-img1.jpg" alt="Profile Image" class="img-fluid rounded-circle">
                <h1 class="text-light"><a href="index.html">Matteo Villani</a></h1>

                <div class="social-links mt-3 text-center">
                    <a href="mailto:villanimatteo33@gmail.com" class="email"><i class="bi bi-envelope-fill"></i></a>
                    <a href="https://github.com/Mattolo4?tab=repositories" class="github"><i
                            class="bx bxl-github"></i></a>
                    <a href="https://www.instagram.com/matto.lo4/" class="instagram"><i
                            class="bx bxl-instagram"></i></a>
                    <a href="https://www.linkedin.com/in/matteo-villani-851ba5199/" class="linkedin"><i
                            class="bx bxl-linkedin"></i></a>
                </div>
            </div>

            <!--Nav menu-->
            <nav id="navbar" class="nav-menu navbar">
                <ul>
                    <li><a href="#hero" class="nav-link scrollto active"><i class="bx bx-home"></i>
                            <span>Home</span></a></li>
                    <li><a href="#about" class="nav-link scrollto"><i class="bx bx-user"></i> 
                            <span>About</span></a></li>
                    <li><a href="#skills" class="nav-link scrollto"><i class="bi bi-diagram-3"></i>
                            <span>Skills</span></a></li>
                    <li><a href="#portfolio" class="nav-link scrollto"><i class="bx bx-book-content"></i>
                            <span>Portfolio</span></a></li>
                    <li><a href="#resume" class="nav-link scrollto"><i class="bx bx-file-blank"></i>
                            <span>Resume</span></a></li>
                    <li><a href="#interests" class="nav-link scrollto"><i class="bx bx-server"></i>
                            <span>Interests</span></a></li>
                    <li><a href="#contact" class="nav-link scrollto"><i class="bx bx-envelope"></i>
                            <span>Contacts</span></a></li>
                </ul>
            </nav>
        </div>
    </header>
    <!-- END header -->



    <main id="main">

        <!-- Breadcrumbs -->
        <section id="breadcrumbs" class="breadcrumbs">
            <div class="container">

                <div class="d-flex justify-content-between align-items-center">
                    <h2>Fetch-Delivery Routine</h2>
                    <ol>
                        <li><a href="index.html">Home</a></li>
                        <li>Fetch-Delivery Routine</li>
                    </ol>
                </div>

            </div>
        </section><!-- End Breadcrumbs -->

        <!-- Portfolio Details Section -->
        <section id="portfolio-details" class="portfolio-details">
            <div class="container about">


                <!-- TODO: collect media and format them the same size -->
                <div class="row gy-4">
                    <div class="col-lg-7 align-vert">
                        <div class="portfolio-details-slider swiper">
                            <div class="swiper-wrapper align-items-center">

                                <div class="swiper-slide">
                                    <img src="assets/img/Projects/Astar/mario star-transp.png" title="A star"
                                        alt="A star">
                                </div>
                                <div class="swiper-slide">
                                    <img src="assets/img/Projects/Astar/template.png" title="Examples of algorithm"
                                        alt="Examples of algorithm">
                                </div>
                                <div class="swiper-slide">
                                    <img src="assets/img/Projects/Astar/template 1.png" title="Examples of algorithm"
                                        alt="Examples of algorithm">
                                </div>
                                <div class="swiper-slide">
                                    <img src="assets/img/Projects/Astar/template 2.png" title="Examples of algorithm"
                                        alt="Examples of algorithm">
                                </div>
                                <div class="swiper-slide">
                                    <img src="assets/img/Projects/Astar/template 3.png" title="Examples of algorithm"
                                        alt="Examples of algorithm">
                                </div>

                            </div>
                            <div class="swiper-pagination"></div>
                        </div>
                    </div>

                    <div class="col-lg-4">
                        <div class="portfolio-info">
                            <h3>Project information</h3>
                            <ul>
                                <li><strong>Category</strong>: Intelligent Robot Software</li>
                                <li><strong>Project date</strong>: Feb, 2024</li>
                                <li><strong>Client</strong>: Accademic project
                                <li><strong>GitHub</strong>: <a href="https://github.com/Mattolo4/Fetch-Delivery-routine-for-Tiago">Source code</a></li>
                                <li><strong>Main tool</strong>: <a href="https://www.ros.org/">ROS</a></li>
                            </ul>
                        </div>

                        <div class="d-flex text-center pt-3" style="height: 40vh; justify-content: center;">
                            <canvas id="chart"></canvas>
                        </div>

                        <script>
                            const ctx = document.getElementById('chart');
                            const data = {
                                datasets: [{
                                    data: [89.0, 11.0],
                                    borderWidth: 3,
                                    backgroundColor: [
                                        'rgb(2, 204, 59)',
                                        'rgb(252, 3, 190)'
                                    ],
                                }],
                                labels: ['C++', 'CMake'],
                            }

                            new Chart(ctx, {
                                type: 'doughnut',
                                data: data,
                                options: {
                                    responsive: true,
                                    plugins: {
                                        title: {
                                            display: true,
                                            text: 'Languages',
                                        }
                                    },
                                }
                            })
                        </script>
                    </div>
                </div>

                <div class="content" data-aos="fade-left" data-aos-deley="100">
                    <h2>Description </h2>
                    <p> The goal of the project is to implement a fetch and delivery behavior for the <a href="https://pal-robotics.com/robots/tiago/">Robot Tiago</a>. </p>
                    <p> In the simulated environment (<a href="https://gazebosim.org/home" >Gazeboo</a>) there are two rooms separated by a wall, plus some obstacles into the environment: 
                        In the <b>first room</b> is placed a table with some objects above that the robot has to fetch (red, blue and green). Tiago has to <i>grasp the correct</i>
                        objects in some defined order, not collide to not wanted objects, move to the <b>second room</b> where are present
                        coloured tables, pick the color-associated table, move towards it, <i>place the object</i> and come back in the previous
                        room. The <b>goal</b> is considered <b>achieved</b> when Tiago places correctly the objects on the right tables in the wanted
                        order.</p>

                    <div class="row-lg-11 pt-1 pb-2 text-center">
                        <figure class="figure">
                            <img class="figure-img img-fluid rounded" src="assets\img\Projects\Fetch-Delivery\Environment.png"
                                alt="Robot' simulated environment" width="700" height="370">
                            <figcaption class="figure-caption">Robot' simulated environment: <b>First room</b> on the right, <b>second room</b> on the left</figcaption>
                        </figure>
                    </div>
                    <p> <b>Note</b>: the <span style="background-color: rgba(8, 63, 228, 0.668);">blue</span> lines represents what the <b>Laser sensor</b> scans.</p>
                </div>

                <div class="content pt-4 py-2 " data-aos="fade-left" data-aos-deley="150">
                    <h2>Program Structure</h2>
                    <p> To accomplish this task we decided to exploit the <b>modularity</b> and <b>scalability</b> of <a href="https://www.ros.org/">ROS</a>, implementing the structure
                        with different service nodes and action server nodes that are all called upon by the main central node <b>node a</b>.</p>

                    <div class="row-lg-11 pt-3 pb-2 text-center">
                        <figure class="figure">
                            <img class="figure-img img-fluid rounded" src="assets\img\Projects\Fetch-Delivery\Structure with legends.png"
                                alt="Robot' simulated environment" width="700" height="370">
                            <figcaption class="figure-caption pt-2">Block diagram</figcaption>
                        </figure>
                    </div>

                    <p>In the block diagram are present: </p>

                    <ul>
                        <li><i class="bi bi-chevron-right"></i><b class="px-1">Rounded blocks: </b>they represents the main nodes in forms of service/action client-server that manages
                            the deliberative at higher level</li>

                        <li><i class="bi bi-chevron-right"></i><b class="px-1">Square blocks: </b> they represents the components that perform sub-tasks demanded by the main nodes.</li>
                    </ul>

                    <p>If you are interested into the details of the <i>program flow</i> described according to the Block diagram, you can check the <b>Report</b> into the <a href="https://github.com/Mattolo4/Fetch-Delivery-routine-for-Tiago" title="GitHub repo">GitHub repo <i class="bi bi-github"></i></a>.</p>
                    
                </div>

                <div class="content pt-3 py-2" data-aos="fade-left" data-aos-deley="200">
                    <h2>Main steps</h2>
                    <p> I want to list the main steps of the Tiago's Routine:</p>
                    
                    <h5>Move to table room</h5>
                    <p>Tiago has to move from the starting position to the objects-table and place itself in front of the object to be picked. </p>
                    
                    <h5>Detect object's Pose</h5>
                    <p> Once Tiago has reached the target pose (position + orientation) in front of the table, it has to <b>tilt the head</b>  in order 
                        to have a clear view of the object, thus to be able to detect the object's <a href="https://github.com/AprilRobotics/apriltag_ros"><b>AprilTag</b></a> (ex. 'tag_6' 'tag_2' in the pics). <br>
                        This phase is essential in order to obtain the object's pose: the precise coordinates that Tiago has to approach with his arm.</p>
                    
                    <div class="row-lg-11 text-center">
                        <figure class="figure">
                            <img src="assets\img\Projects\Fetch-Delivery\pick phase 1.png" alt="Detect object's pose"
                                class="img-fluid figure-img rounded" width="460" height="368">
                            <img src="assets\img\Projects\Fetch-Delivery\pick phase 2.png" alt="Detect object's pose"
                                class="img-fluid figure-img rounded" width="460" height="368">
                            
                        </figure>
                        <figcaption class="figure-caption">Detect object's Pose phase screenshots</figcaption>
                    </div>

                    <h5>Collision objects</h5>
                    <p><b>Collision objects</b> are creted in order to avoid our robot's arm crashing into objects</p>

                    <div class="row-lg-11 text-center">
                        <figure class="figure">
                            <img src="assets\img\Projects\Fetch-Delivery\pick phase 3.png" alt="Collision objects"
                                class="img-fluid figure-img rounded" width="460" height="368">
                        </figure>

                        <figcaption class="figure-caption">Collision objects</figcaption>
                    </div>
                    <p> In the above picture the computed collision objects are represented, in the simulated environment, as the 
                        <b>green polygons</b>: the squared one represents the table, and the cylindrical one is the collision object of
                        the obstacle present above the table ('tag_6' obj.: the hexagon polygon).
                    </p>
                    <p><b>Note</b>: the 'tag_2' object has no collision object since it has to be picked and not avoided.</p>

                    <h5>Pick phase</h5>
                    <p> Once the Robot computed the <b>pose</b> of the object to be picked and the <b>collision objects</b> of the unwanted ones, it can proceed
                        to actually <b>pick</b> the wanted one. <br>
                        The pick phase consists in the following <b>sub-phases</b>:
                    </p>

                    <ul>
                        <li><i class="bi bi-chevron-right"></i><b class="px-2">Positioning</b> the arm so that it is easier to grip the object</li>
                        <li><i class="bi bi-chevron-right"></i><b class="px-2">Grasp </b> of the object</li>
                        <li><i class="bi bi-chevron-right"></i><b class="px-2">Attach </b> the object to the gripper and close it</li>
                        <li><i class="bi bi-chevron-right"></i><b class="px-2">Positioning </b> of the arm equal to the first point</li>
                        <li><i class="bi bi-chevron-right"></i>Placement of the arm in a <b class="px-2">safe configuration for movement</b> within the environment</li>
                    </ul>

                    <div class="row-lg-11 py-3 text-center">
                        <img src="assets\img\Projects\Fetch-Delivery\pick gif.gif" class="img-fluid rounded" alt="Pick GIF">
                        <figcaption class="figure-caption pt-1">Example of pick phase</figcaption>
                    </div>
                        
                    <h5>Automatic docking routine</h5>
                    <p><b>Problem: </b> Recognize which is the correct table, thus define the correct target position.</p>
                    <p><b>Solution: </b></p>
                    <ul>
                        <li><i class="bi bi-chevron-right"></i>Robot moves into table room</li>
                        <li><i class="bi bi-chevron-right"></i>Looks towards the coloured tables (Tiago's POV)</li>
                        <li><i class="bi bi-chevron-right"></i><b class="px-1">Threshold</b> the image to <b class="px-1">segment</b> the right table</li>
                        <li><i class="bi bi-chevron-right"></i>The first non-black point defines the <b class="px-1">target position</b> (in terms of right/center/left)</li>
                    </ul>

                    <div class="row-lg-11 py-3 text-center">
                        <img src="assets\img\Projects\Fetch-Delivery\Tiago pov.png" class="img-fluid figure-img rounded" alt="Tiago's POV" width="480" height="270">
                        <img src="assets\img\Projects\Fetch-Delivery\segmented image.png" class="img-fluid figure-img rounded" alt="Segmented iamge" width="480" height="270">
                        <figcaption class="figure-caption pt-1">1. Tiago's POV - 2. Segmented image</figcaption>
                    </div>


                    <h5>Place phase</h5>
                    <p>The place phase consists of the following subphases:</p>
                    <ul>
                        <li><i class="bi bi-chevron-right"></i> <b class="px-1">Positioning</b> the arm so that it is easier to place the object</li>
                        <li><i class="bi bi-chevron-right"></i> <b class="px-1">Place</b> the object </li>
                        <li><i class="bi bi-chevron-right"></i> <b class="px-1">Open</b> the gripper and <b class="px-1">detach</b> the object</li>
                        <li><i class="bi bi-chevron-right"></i> <b class="px-1">Positioning</b> of the arm equal to the first point</li>
                        <li><i class="bi bi-chevron-right"></i> Placement of the arm in a <b class="px-1">safe configuration</b> for movement within the environment</li>
                    </ul>

                    <h5>Repeat</h5>
                    <p> The previous points clarify each main step of the <b>Routine</b>, so once an object has been successfully placed,
                        Tiago is going to return in the other room to repeat the routine for the <b>remaining objects.</b></p>
                </div>

                <div class="content py-1">
                    <h2> </h2>
                    <p> </p>
                </div>

            </div>
        </section><!-- End Portfolio Details Section -->
    </main><!-- End #main -->

    <!-- Footer -->
    <footer id="footer">
        <div class="container">
            <div class="copyright">
                &copy; Copyright <strong><span>iPortfolio</span></strong>
            </div>
            <div class="credits">
                <!-- Licensing information: https://bootstrapmade.com/license/ -->
                Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
            </div>
        </div>
    </footer><!-- End  Footer -->

    <a href="assets/html/Projects/astar.html#top"
        class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

    <!-- Vendor JS Files -->
    <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
    <script src="assets/vendor/aos/aos.js"></script>
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
    <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
    <script src="assets/vendor/typed.js/typed.min.js"></script>
    <script src="assets/vendor/waypoints/noframework.waypoints.js"></script>
    <script src="assets/vendor/php-email-form/validate.js"></script>

    <!-- Template Main JS File -->
    <script src="assets/js/main.js"></script>

</body>

</html>